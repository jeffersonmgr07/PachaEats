<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pacha Eats</title>

  <style>
    :root{
      --text:#111827;
      --muted:#6b7280;

      --brand:#e21f0c;      /* header/footer */
      --bg:#f5ebdc;         /* fondo */
      --promo:#ffd366;      /* banner nav */
      --heroArrow:#d62300;  /* flechas slider */
      --coupon2:#ff5600;    /* gradiente cupon */

      --shadow: 0 14px 30px rgba(17,24,39,.10);
      --shadow2: 0 10px 22px rgba(17,24,39,.09);
      --shadow3: 0 18px 40px rgba(17,24,39,.14);

      --radiusHeader: 48px;
      --radiusPill: 999px;
      --radiusCard: 18px;

      --max: 1180px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    button,input,select{font:inherit}
    .container{max-width:var(--max); margin:0 auto; padding:0 14px;}
    .sr-only{
      position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
    }

    /* ================= HEADER ================= */
    header{
      position:sticky;
      top:0;
      z-index:60;
      background: rgba(245,235,220,.88);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid rgba(0,0,0,.06);
    }
    .header-wrap{padding:4px 0 4px;}
    .header-bar{
      background: var(--brand);
      border-radius: var(--radiusHeader);
      box-shadow: var(--shadow3);
      padding:4px 4px;
      display:flex;
      align-items:center;
      gap:10px;
      overflow:hidden;
      position:relative;
    }
    .header-bar::after{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(120px 120px at 14% 0%, rgba(255,255,255,.16), transparent 60%),
        radial-gradient(160px 160px at 82% 20%, rgba(255,255,255,.12), transparent 60%),
        radial-gradient(220px 220px at 50% 120%, rgba(0,0,0,.14), transparent 60%);
      pointer-events:none;
      mix-blend-mode: screen;
    }

    .logo{
      width:36px; height:36px;
      border-radius:0;
      display:grid; place-items:center;
      overflow:visible;
      flex:0 0 auto;
      background: transparent;
      border:none;
      box-shadow:none;
      z-index:1;
      margin-bottom: 7px;
      margin-left: 14px;
      margin-top: 1px;
      margin-right: 0px;
    }
    .logo img{width:100%; height:100%; object-fit:contain; padding:0;}

    .search{
      display:flex;
      align-items:center;
      gap:10px;
      background:#fff;
      border-radius: var(--radiusPill);
      padding:11px 12px;
      flex: 1 1 360px;
      min-width: 200px;
      box-shadow: var(--shadow2);
      z-index:1;
      border:1px solid rgba(229,231,235,.85);
    }
    .search input{
      border:none;
      outline:none;
      width:100%;
      min-width:0;
      font-size:14px;
    }
    .search input::placeholder{color:#9ca3af}

    .info-block{
      color:#fff;
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 10px;
      border-radius:16px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.18);
      white-space:nowrap;
      flex:0 0 auto;
      z-index:1;
    }
    .info-block .icon{width:28px; height:28px; display:grid; place-items:center; flex:0 0 auto;}
    .info-block.delivery .icon{ width:36px; height:36px; }
    .info-block .lines{display:flex; flex-direction:column; line-height:1.08; gap:2px;}
    .info-block .top{font-weight:950; font-size:13px;}
    .info-block .bottom{font-weight:750; font-size:12px; opacity:.95;}
    .info-block .chev{margin-left:2px; font-weight:900; width:16px; display:grid; place-items:center;}

    .cart-pill{
      display:flex;
      align-items:center;
      gap:10px;
      background:#fff;
      border-radius: var(--radiusPill);
      padding:10px 10px;
      box-shadow: var(--shadow2);
      flex:0 0 auto;
      cursor:pointer;
      border:1px solid rgba(229,231,235,.85);
      z-index:1;
    }
    .cart-pill .total-badge{
      background: var(--brand);
      color:#fff;
      border-radius: 999px;
      padding:7px 10px;
      font-weight:900;
      font-size:12px;
      line-height:1;
      min-width:92px;
      text-align:center;
      box-shadow: 0 12px 22px rgba(226,31,12,.24);
    }

    /* ================= NAV + PROMO STRIP ================= */
    .nav{padding:10px 0 14px;}
    .nav-row{
      display:flex;
      gap:10px;
      align-items:stretch;
      width:100%;
    }
    .nav-inner{
      display:flex;
      gap:10px;
      align-items:center;
      overflow:auto;
      scrollbar-width:none;
      padding-bottom:2px;
      flex: 0 0 auto;
    }
    .nav-inner::-webkit-scrollbar{display:none}
    .nav a{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius: 999px;
      border:1px solid var(--brand);
      background:#fff;
      font-weight:950;
      font-size:14px;
      white-space:nowrap;
      color:#374151;
      box-shadow: 0 10px 18px rgba(17,24,39,.06);
    }
    .nav a .nav-ico{width:18px; height:18px; display:grid; place-items:center; color: var(--brand);}
    .nav a:hover{background: rgba(255,255,255,.65);}

    .nav-promo{
      flex: 1 1 auto;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.10);
      display:flex;
      align-items:center;
      padding: 0;
      min-height: 42px;
      box-shadow: 0 10px 18px rgba(17,24,39,.06);
      color:#f6fbe2;
      font-weight:950;
      font-size: 13px;
      overflow:hidden;
      position:relative;
    }

    /* ====== Barra promocional con ícono incluido en la animación ====== */
    .nav-promo .promo-track {
      display: flex;
      align-items: center;
      width: max-content;
      gap: 26px;
      animation: marquee 22s linear infinite;
      will-change: transform;
    }

    .nav-promo .promo-item {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding-right: 26px;
    }

    .nav-promo .promo-ico {
      margin-right: 0;
      flex-shrink: 0;
      width:22px;
      height:22px;
      display:grid;
      place-items:center;
    }

    /* Fondo con degradado animado */
    .nav-promo {
      background: linear-gradient(90deg, #fd4f00, #e21f0c 60%, #c71708);
      background-size: 220% 220%;
      animation: bgShift 6s ease-in-out infinite;
    }

    @keyframes bgShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes marquee {
      from { transform: translateX(0); }
      to { transform: translateX(-50%); }
    }

    /* ====== Hover micro-interactions (zoom suave) ====== */
    button, .btn, a.btn, .coupon-cta, .promo-2col a, .product-card, .promo-card, img,
    .cat-bubble, .nav a, .cart-pill, .info-block {
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
    }

    button:hover, .btn:hover, a.btn:hover, .coupon-cta:hover, .promo-2col a:hover, 
    .product-card:hover, .promo-card:hover, img:hover,
    .cat-bubble:hover, .nav a:hover, .cart-pill:hover, .info-block:hover {
      transform: scale(1.03);
    }

    /* ================= HERO / SLIDER ================= */
    .hero{padding:14px 0 10px;}
    .slider{
      position:relative;
      border-radius: 22px;
      overflow:hidden;
      box-shadow: var(--shadow3);
      border:1px solid rgba(0,0,0,.08);
      background:#f3f4f6;
    }
    .slide{display:none; aspect-ratio: 16/6; min-height: 180px;}
    .slide img{width:100%; height:100%; object-fit:cover}
    .slide.active{display:block}

    .hero-arrow{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      width:46px;
      height:64px;
      border:none;
      border-radius: 16px;
      background: var(--heroArrow);
      color:#fff;
      font-weight:950;
      cursor:pointer;
      display:grid;
      place-items:center;
      z-index:3;
      border:1px solid rgba(255,255,255,.24);
      box-shadow: 0 16px 28px rgba(214,35,0,.18);
    }
    .hero-arrow.left{left:10px}
    .hero-arrow.right{right:10px}
    .hero-arrow:active{transform: translateY(-50%) translateY(1px)}

    .hero-dots{
      position:absolute;
      left:50%;
      bottom:10px;
      transform: translateX(-50%);
      display:flex;
      gap:7px;
      align-items:center;
      z-index:3;
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background: rgba(255,255,255,.55);
      border:1px solid rgba(255,255,255,.35);
      cursor:pointer;
    }
    .dot.active{background:#fff}

    main{padding: 8px 0 44px;}

    .section-head{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      margin: 16px 0 12px;
    }
    .section-head h2{margin:0; font-size: clamp(18px, 2.2vw, 24px); font-weight:950;}
    .section-head p{margin:0; color:#374151; font-size:14px; max-width:70ch;}

    /* ================= CATEGORÍAS ================= */
    .cats-wrap{margin:14px 0 8px;}
    .cats-grid{
      display:flex;
      justify-content:space-between;
      gap:24px;
      align-items:flex-start;
      flex-wrap:wrap;
      padding: 10px 2px 18px;
    }
    .cat-bubble{
      width: 112px;
      text-align:center;
      cursor:pointer;
      background: transparent;
      position:relative;
      flex: 1 1 112px;
      max-width: 150px;
    }
    .cat-bubble .label{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:6px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.92);
      border:1.8px solid #374151;
      color:#111;
      font-weight:950;
      font-size:12px;
      line-height:1;
      box-shadow: 0 10px 18px rgba(17,24,39,.08);
      position:absolute;
      top:-10px;
      left:50%;
      transform: translateX(-50%);
      white-space:nowrap;
      z-index:2;
    }
    .cat-bubble .img{
      margin: 10px auto 0;
      width: 104px;
      height: 104px;
      border-radius: 24px;
      overflow:hidden;
      background: transparent;
      display:grid;
      place-items:center;
      filter: drop-shadow(0 18px 24px rgba(17,24,39,.18));
    }
    .cat-bubble .img img{
      width: 104px;
      height: 104px;
      object-fit:cover;
      border-radius: 24px;
      transform: rotate(-2deg) scale(1.02);
    }
    .cat-bubble.active .label{
      border-color: #111827;
      box-shadow: 0 14px 22px rgba(0,0,0,.14);
      background: var(--brand);
      color: white;
      border-color: var(--brand);
    }
    .cat-bubble.active .img{
      filter: drop-shadow(0 18px 24px rgba(226,31,12,.3));
    }

    /* ================= CARRUSEL PRODUCTOS (ESTILO PRB0008) ================= */
    .carousel-wrap{position:relative; padding: 4px 0;}
    .carousel{
      display:flex;
      gap:14px;
      overflow:auto;
      scroll-snap-type:x mandatory;
      padding: 6px 46px 18px;
      scrollbar-width:none;
    }
    .carousel::-webkit-scrollbar{display:none}

    .car-btn{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      width:40px;
      height:58px;
      border:none;
      border-radius: 14px;
      background: var(--heroArrow);
      color:#fff;
      font-weight:950;
      cursor:pointer;
      display:grid;
      place-items:center;
      box-shadow: 0 14px 26px rgba(214,35,0,.20);
      z-index:2;
    }
    .car-btn.left{left:6px}
    .car-btn.right{right:6px}

    .p-card{
      flex: 0 0 auto;
      width: 230px;
      border-radius: 14px;
      background:#fff;
      border:1px solid rgba(0,0,0,.08);
      box-shadow: var(--shadow2);
      overflow:hidden;
      scroll-snap-align:start;
      display:flex;
      flex-direction:column;
      padding: 14px 14px 16px;
    }
    .p-imgbox{
      height: 130px;
      border-radius: 12px;
      background: #ffffff;
      display:grid;
      place-items:center;
      overflow:hidden;
    }
    .p-imgbox img{
      width:100%;
      height:100%;
      object-fit: cover;
      object-position: center;
    }
    .p-name{
      margin: 12px 0 0;
      font-weight: 950;
      font-size: 13.5px;
      line-height: 1.15;
      text-transform:none;
      min-height: 34px;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }
    .p-meta{
      margin-top: 10px;
      color: var(--muted);
      font-size: 12px;
    }
    .p-price{
      margin-top: 6px;
      font-weight: 950;
      font-size: 15px;
      color:#111827;
    }
    .p-add{
      margin-top: 12px;
      border-radius: 999px;
      padding: 10px 12px;
      background:#fff;
      border: 2px solid var(--brand);
      color: var(--brand);
      font-weight: 950;
      cursor:pointer;
      box-shadow: 0 10px 18px rgba(17,24,39,.05);
      transition: transform .08s ease, background .15s ease, filter .15s ease;
      width: 140px;
      align-self: center;
    }
    .p-add:hover{background: rgba(226,31,12,.06); filter:brightness(1.02);} 
    .p-add:active{transform: translateY(1px);}

    /* ================= Banner cupones ================= */
    .coupon-banner{
      margin: 12px 0 18px;
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(0,0,0,.08);
      box-shadow: var(--shadow2);
      background:
        linear-gradient(90deg, rgba(120,62,0,.95), rgba(255,86,0,.90));
    }

    /* ====== Barra cupones: textura restaurante (overlay con opacidad) ====== */
    .coupon-banner{ 
      position: relative; 
      overflow: hidden; 
    }

    .coupon-banner::before {
      content: "";
      position: absolute; 
      inset: -8px;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='90' viewBox='0 0 160 90'><rect width='160' height='90' fill='none'/><g fill='none' stroke='%23ffffff' stroke-opacity='0.65' stroke-width='1'><path d='M18 18h10M23 18v16'/><path d='M36 18c4 0 4 16 0 16c-4 0-4-16 0-16Z'/><path d='M120 20c8 0 14 6 14 14s-6 14-14 14s-14-6-14-14s6-14 14-14Z'/><path d='M108 34h24'/></g><g fill='none' stroke='%23ffffff' stroke-opacity='0.35' stroke-width='1'><path d='M0 0L160 90M160 0L0 90'/></g></svg>");
      background-size: 220px 130px;
      opacity: .22;
      pointer-events: none;
    }

    .coupon-inner{ 
      position: relative; 
      z-index: 1; 
    }

    .coupon-inner{
      padding: 18px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      color:#fff;
    }
    .coupon-title{
      display:flex;
      align-items:center;
      gap:12px;
      font-weight:950;
      font-size: clamp(18px, 2.2vw, 30px);
      letter-spacing:.2px;
    }
    .coupon-cta{
      border:2px solid rgba(255,255,255,.85);
      border-radius: 999px;
      background: #fd4f00;
      color:#fff;
      font-weight:950;
      padding:10px 14px;
      cursor:pointer;
      box-shadow: 0 16px 28px rgba(253,79,0,.28);
      white-space:nowrap;
      transition: transform .08s ease, filter .15s ease;
    }
    .coupon-cta:hover{filter:brightness(1.05);}
    .coupon-cta:active{transform: translateY(1px);}

    /* ================= 2 CONTENEDORES ================= */
    .promo-2col{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
      margin: 10px 0 18px;
    }
    .promo-card{
      background:#fff;
      border:1px solid rgba(0,0,0,.08);
      border-radius: 18px;
      overflow:hidden;
      box-shadow: var(--shadow2);
      display:grid;
      grid-template-columns: 1fr 1fr;
      min-height: 220px;
    }
    .promo-img img{width:100%;height:100%;object-fit:cover;}
    .promo-body{
      padding:14px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:8px;
      background: rgba(255,255,255,.75);
    }
    .promo-body h3{margin:0; font-size:18px; font-weight:950;}
    .promo-body p{margin:0; color:#374151; font-size:13px; line-height:1.35;}
    .promo-btn{
      margin-top:8px;
      border:none;
      border-radius: 999px;
      background: var(--brand);
      color:#fff;
      font-weight:950;
      padding:10px 12px;
      cursor:pointer;
      width: fit-content;
      box-shadow: 0 16px 28px rgba(226,31,12,.18);
      transition: transform .08s ease, filter .15s ease;
    }
    .promo-btn:hover{filter:brightness(1.05);} 
    .promo-btn:active{transform: translateY(1px);} 

    /* ================= Animaciones ================= */
    .fly-dot{
      position:fixed;
      width:12px;
      height:12px;
      border-radius:999px;
      background: #ff5600;
      z-index:9999;
      pointer-events:none;
      box-shadow: 0 10px 18px rgba(255,86,0,.25);
      transform: translate(-50%, -50%);
    }
    .explosion{
      position: fixed;
      pointer-events: none;
      width: 12px;
      height: 12px;
      transform: translate(-50%, -50%);
      z-index: 9999;
    }
    .particle{
      position:absolute;
      width:10px;
      height:10px;
      border-radius:50%;
      opacity:0;
      filter: drop-shadow(0 10px 18px rgba(226,31,12,.25));
      animation: particle-move 1.15s cubic-bezier(.15,.9,.2,1) forwards;
    }
    @keyframes particle-move{
      from{opacity:1; transform: translate(0,0) scale(1);}
      to{opacity:0; transform: translate(var(--dx), var(--dy)) scale(0.3);}
    }

    /* ================= MODAL PERSONALIZAR ================= */
    #customModal {
      display: none;
      position: fixed;
      inset: 0;
      align-items: center;
      justify-content: center;
      background: rgba(17,24,39,.55);
      z-index: 9999;
      padding: 18px;
    }

    #customModal.show {
      display: flex;
    }

    .custom-sheet{
      max-width: 600px;
      margin: 44px auto;
      background:#fff;
      border-radius: 22px;
      overflow:hidden;
      box-shadow: 0 28px 80px rgba(0,0,0,.35);
      border:1px solid rgba(0,0,0,.10);
    }
    .custom-head{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      padding:14px;
      border-bottom: 1px solid rgba(0,0,0,.10);
      background: var(--brand);
    }
    .custom-title{margin:0; font-size:18px; font-weight:950; color:#fff;}
    .custom-sub{margin:6px 0 0; color: rgba(255,255,255,.90); font-size:13px; line-height:1.3;}
    .xbtn{
      border:none;
      background:#f3f4f6;
      border:1px solid rgba(0,0,0,.10);
      border-radius:14px;
      padding:8px 10px;
      cursor:pointer;
      font-weight:950;
    }
    .custom-body{
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }
    .opt-card{
      border:1px solid rgba(0,0,0,.08);
      border-radius:18px;
      padding:12px;
      background:#fff;
      box-shadow: 0 10px 18px rgba(17,24,39,.06);
    }
    .opt-card h4{margin:0 0 10px; font-size:14px; font-weight:950;}
    .opt-grid{display:grid; grid-template-columns: 1fr 1fr; gap:10px;}
    .opt{
      border:1px solid rgba(0,0,0,.08);
      border-radius:16px;
      padding:10px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      cursor:pointer;
      user-select:none;
      background:#fff;
    }
    .opt:hover{background:#fafafa}
    .opt input{margin-top:2px}
    .opt small{color:#6b7280; display:block; margin-top:3px}
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;}
    .qty-box{display:flex; align-items:center; gap:8px;}
    .qty-btn{
      width:38px;height:38px;border-radius:14px;border:1px solid rgba(0,0,0,.10);
      background:#f3f4f6;font-weight:950;cursor:pointer;
    }
    .qty-num{min-width:26px;text-align:center;font-weight:950;}
    .add-btn{
      border-radius:999px;
      border:none;
      background: var(--brand);
      color:#fff;
      font-weight:950;
      padding:12px 14px;
      cursor:pointer;
      box-shadow: 0 16px 30px rgba(226,31,12,.20);
    }

    /* ================= CARRITO (MODAL) ================= */
    #cartModal{display:none; position:fixed; inset:0; background:rgba(17,24,39,.55); z-index:9999;}
    .cart-sheet{
      max-width:560px;
      margin:60px auto;
      background:#fff;
      border-radius:22px;
      overflow:hidden;
      box-shadow: 0 28px 80px rgba(0,0,0,.35);
      border:1px solid rgba(0,0,0,.10);
    }

    /* ================= SUSCRIPCIÓN (RECUADRO) ================= */
    .subscribe-strip{
      margin: 6px 0 22px;
      background: rgba(255,255,255,.88);
      border: 1px solid rgba(0,0,0,.08);
      border-radius: 18px;
      box-shadow: var(--shadow2);
      overflow:hidden;
    }

    .subscribe-wrap { 
      width: 100%; 
    }

    .subscribe-inner { 
      width: 100%; 
    }

    .subscribe-strip { 
      padding: 16px 0 12px; 
    }

    .subscribe-inner{
      padding: 18px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }
    .subscribe-title{
      margin:0;
      font-weight:950;
      font-size: 16px;
      line-height:1.2;
    }
    .subscribe-desc{
      margin:6px 0 0;
      color:#374151;
      font-size:13px;
      max-width:70ch;
    }
    .sub-form{
      display:flex;
      flex-direction: column;
      gap:10px;
      flex-wrap:wrap;
      align-items:flex-start;
      justify-content:flex-start;
      flex: 1 1 420px;
    }
    .sub-form input{
      padding:10px 12px;
      border-radius: 999px;
      border:1px solid rgba(0,0,0,.12);
      outline:none;
      background:#fff;
      width: 100%;
      box-sizing: border-box;
    }
    .sub-btn{
      border:none;
      border-radius: 999px;
      background: var(--brand);
      color:#fff;
      font-weight:950;
      padding:10px 14px;
      cursor:pointer;
      box-shadow: 0 16px 28px rgba(226,31,12,.16);
      white-space:nowrap;
      transition: transform .08s ease, filter .15s ease;
      width: 180px;
    }
    .sub-btn:hover{filter:brightness(1.05);}
    .sub-btn:active{transform: translateY(1px);}

    /* ================= FOOTER (ROJO + BLANCO) ================= */
    footer{
      background: var(--brand);
      color:#fff;
      margin-top: 0;
      padding-top: 18px;
    }

    footer .fcol, footer, footer p, footer a {
      font-size: calc(1rem + 1px);
    }

    .footer-inner{
      padding: 26px 0;
      display:grid;
      grid-template-columns: 1.2fr 1fr 1fr 1.2fr;
      gap:18px;
    }
    .f-title{
      font-weight:950;
      margin: 0 0 10px;
      font-size:14px;
      color:#fff;
    }
    .f-muted{color: rgba(255,255,255,.86); font-size:13px; margin:0 0 10px; line-height:1.35;}
    .f-links{display:flex; flex-direction:column; gap:8px; font-size:13px; color: rgba(255,255,255,.90);}
    .f-links a{color: rgba(255,255,255,.92)}
    .f-links a:hover{text-decoration:underline;color:#fff}

    .footer-logo{
      width: 120px;
      height:auto;
      margin-bottom: 10px;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.18));
    }

    .contact-lines{font-size:13px;color: rgba(255,255,255,.92);display:flex;flex-direction:column;gap:8px;}

    .social{display:flex; gap:10px; align-items:center; margin-top:10px;}
    .social a{
      width:34px;height:34px;border-radius:999px;
      background: rgba(255,255,255,.14);
      border:1px solid rgba(255,255,255,.22);
      display:grid;place-items:center;
      box-shadow: 0 10px 18px rgba(0,0,0,.12);
    }
    .social svg *{stroke:#fff !important; fill:#fff !important;}

    .book-plain{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .book-plain img{
      width: 160px;
      max-width: 100%;
      height:auto;
      object-fit:contain;
      background: transparent;
    }
    .pay-plain{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      margin-top:6px;
    }
    .pay-plain img{
      height:22px;
      width:auto;
      background:#fff;
      border-radius:8px;
      border:1px solid rgba(255,255,255,.12);
      padding:6px 8px;
    }

    .footer-bottom{
      border-top: 1px solid rgba(255,255,255,.18);
      padding: 12px 0;
      color: rgba(255,255,255,.85);
      font-size:12px;
    }

    /* ================= VISTA MÓVIL (max-width: 560px) ================= */
    @media (max-width: 560px){
      /* HEADER MÓVIL - Logo más grande */
      main { padding-bottom: 56px !important; } /* prueba 64, 56, 48 */

      .header-wrap .container{
        padding-left: 0;
        padding-right: 0;
      }
    
      .header-bar{
        margin: 0 6px; /* mantiene los bordes redondeados */
      }
      .header-bar {
        flex-wrap: nowrap;
        padding: 0px 4px;
        border-radius: var(--radiusHeader);
        gap: 6px;
        margin: 0;
        width: 100%;
        position: relative;
        left: 0;
        justify-content: flex-start;
        height: 55px;
        box-shadow:
          0 4px 10px rgba(0, 0, 0, 0.10),
          0 10px 30px rgba(0, 0, 0, 0.08);
      }
      
      .logo {
        width: 30px; /* Más grande */
        height: 30px; /* Más grande */
        margin: 2;
        pading: 0;
        flex-shrink: 0;
        margin-right: 2px;
        margin-bottom: 4px;
      }
      
      .search {
        flex: 1 1 auto;        /* CLAVE: base 0 para crecer */
        display: flex;
        height: 36px;
        min-width: 0;
        margin: 6px 0;      /* ❗ sin margen horizontal */
        padding: 0 10px;
        align-items: center;
        margin left: 1px;
      }
      
      .search input {
        font-size: 13px;
        height: 95%;
        line-height: normal;
        padding: 0;
      }
      
      .cart-pill {
        height: 36px; 
        padding: 6px 6px;
        flex-shrink: 0;
        margin-left: 0;
        margin-right: 10;
        display: flex;
        align-items: center;
        gap: 1px;
      }
      
      .cart-pill .total-badge {
        min-width: 70px;
        padding: 4px 3px;
        font-size: 11px;
      }
      
      /* Ocultar elementos que no deben verse en móvil */
      .info-block.delivery,
      .info-block:not(.delivery) {
        display: none !important;
      }
      
      /* FRANJA "Comienza tu pedido" - Centrada con icono más grande */
      .mobile-delivery-strip {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 3px; /* Más espacio */
        background: #f5ebdc;
        padding: 14px;
        width: 100%;
        border-bottom: 1px solid rgba(0,0,0,.08);
        cursor: pointer;
        margin-top: 0;
        text-align: center;
      }
      
      .mobile-delivery-strip .icon {
        width: 36px; /* Más grande */
        height: 36px; /* Más grande */
        display: flex;
        place-items: center;
        color: #e21f0c;
        flex-shrink: 0;
      }
      
      .mobile-delivery-strip .icon svg {
        width: 40px; /* Más grande */
        height: 40px; /* Más grande */
      }
      
      .mobile-delivery-strip .text {
        display: flex;
        flex-direction: column;
        line-height: 1.1;
        gap: 3px;
        flex: 1;
        min-width: 0;
        text-align: center;
      }
      
      .mobile-delivery-strip .top {
        font-weight: 950;
        font-size: 15px; /* Un poco más grande */
        color: #111827;
      }
      
      .mobile-delivery-strip .bottom {
        font-weight: 750;
        font-size: 13px;
        color: #374151;
        opacity: .9;
      }
      
      .mobile-delivery-strip .chev {
        margin-left: 4px;
        color: #e21f0c;
        font-weight: 900;
        flex-shrink: 0;
      }
      
      /* NAVEGACIÓN SUPERIOR - Ocultar en móvil */
      .nav {
        display: none;
      }
      
      /* SLIDER - Sin botones y full width */
      .hero {
        padding: 14px 0;
      }
      
      .slider {
        border-radius: 16px;
        margin: 0;
        width: 100%;
        border: 1px solid rgba(0,0,0,.08);
      }
      
      .hero-arrow {
        display: none !important;
      }
      
      .slide {
        aspect-ratio: 16/9;
        min-height: 220px;
      }
      
      /* CATEGORÍAS - Carrusel sin sombras */
      .cats-wrap {
        margin: 20px 0 12px;
        background: transparent;
      }
      
      .section-head {
        margin: 0 0 16px;
      }
      
      .cats-grid {
        display: flex;
        gap: 16px;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        padding: 20px 10px 30px;
        scrollbar-width: none;
        justify-content: flex-start;
        flex-wrap: nowrap;
        margin: 0;
        background: transparent;
      }
      
      .cats-grid::-webkit-scrollbar {
        display: none;
      }
      
      .cat-bubble {
        flex: 0 0 auto;
        width: 140px;
        max-width: none;
        background: transparent;
      }
      
      .cat-bubble .label {
        top: -12px;
        font-size: 12px;
        padding: 7px 12px;
        white-space: nowrap;
        background: rgba(255,255,255,.95);
        box-shadow: none;
      }
      
      .cat-bubble.active .label {
        background: var(--brand);
        color: white;
        border-color: var(--brand);
        box-shadow: 0 4px 12px rgba(226,31,12,.2);
      }
      
      .cat-bubble .img {
        width: 130px;
        height: 130px;
        margin-top: 12px;
        filter: none;
      }
      
      .cat-bubble .img img {
        width: 130px;
        height: 130px;
      }
      
      /* PRODUCTOS - Carrusel sin botones, tarjetas más altas y menos anchas */
      .carousel-wrap {
        padding: 0;
      }
      
      .car-btn {
        display: none !important;
      }
      
      .carousel {
        padding: 6px 10px 30px;
      }
      
      .p-card {
        width: 75vw;
        max-width: 280px;
        min-height: 380px;
        padding: 16px;
        display: flex;
        flex-direction: column;
      }
      
      .p-imgbox {
        height: 160px;
        border-radius: 14px;
      }
      
      .p-name {
        margin: 16px 0 0;
        font-size: 15px;
        min-height: 40px;
      }
      
      .p-meta {
        margin-top: 12px;
      }
      
      .p-price {
        margin-top: 10px;
        font-size: 17px;
      }
      
      .p-add {
        margin-top: 16px;
        width: 140px;
        padding: 11px 14px;
        font-size: 14px;
        align-self: center;
        margin-left: auto;
        margin-right: auto;
      }
      
      /* BANNER CUPONES - Contenido centrado */
      .coupon-banner {
        margin: 20px 0;
      }
      
      .coupon-inner {
        flex-direction: column;
        text-align: center;
        gap: 18px;
        padding: 22px 16px;
      }
      
      .coupon-title {
        justify-content: center;
        flex-wrap: wrap;
      }
      
      /* SUSCRIPCIÓN - Menos espacio debajo del botón */
      .subscribe-strip {
        margin: 20px 0 1px; /* Reducido margen inferior */
        margin-bottom: 0 !important;
        padding: 0;
      }
      
      .subscribe-inner {
        flex-direction: column;
        align-items: stretch;
        gap: 16px;
        padding: 20px 16px 6px; /* Reducido padding inferior */
        padding-bottom: 12px !important;
        justify-content: flex-start !important; /* <-- quita el space-between */
        align-content: flex-start !important;
      }
      
      .sub-form {
        width: 100%;
        flex: 0 0 auto !important;  /* <-- evita que el form “estire” */
        gap: 6px;
        margin-top: 0;
        
      }
      
      .sub-form input {
        width: 100%;
        padding: 12px 16px;
        font-size: 14px;
      }
      
      .sub-btn {
        width: 160px;
        padding: 12px 16px;
        font-size: 14px;
        margin-top: 0;
        margin-bottom: 0 !important;
        align-self: flex-start; /* Alineado a la izquierda como PC */
      }
       #carta, #reservas, #corporativas {
        height: 0 !important;
        display: none !important;
      }
      /* PROMO 2COL - Una columna en móvil */
      .promo-2col {
        grid-template-columns: 1fr;
        gap: 20px;
        margin: 20px 0;
      }
      
      .promo-card {
        grid-template-columns: 1fr;
        min-height: 260px;
      }
      
      .promo-img {
        height: 140px;
      }
      
      .promo-body {
        padding: 20px;
      }
      
      /* FOOTER - Una sola columna */
      .footer-inner {
        grid-template-columns: 1fr;
        gap: 0;
      }
      
      .footer-inner > div {
        border-bottom: 1px solid rgba(255, 255, 255, 0.18);
        padding: 10px 0;
      }
      
      .footer-inner > div:last-child {
        border-bottom: none;
      }
      footer{
        padding-bottom: 16px; /* prueba 12–20 */
      }
      
      /* Ajustar padding del main para la barra inferior */
      main {
        padding-bottom: 80px;
      }
      
      /* Ajustes generales */
      .section-head {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
        margin: 10px 0 16px;
      }
      
      .section-head h2 {
        font-size: 22px;
      }
      
      .section-head p {
        font-size: 14px;
        margin-top: 4px;
      }
    }
    
    @media (min-width: 561px) and (max-width: 980px) {
      /* Tablet - ajustes */
      .header-bar{flex-wrap:wrap; justify-content:space-between; padding:10px;}
      .search{flex: 1 1 520px; order: 3;}
      .info-block{flex: 1 1 260px;}
      .cart-pill{order: 2;}
      .slide{aspect-ratio: 16/7;}
      .carousel{padding: 6px 42px 18px;}
      .promo-2col{grid-template-columns: 1fr;}
      .promo-card{grid-template-columns: 1fr 1fr;}
      .footer-inner{grid-template-columns: 1fr 1fr;}
      .footer-inner > div{border-right:none !important; border-bottom:1px solid #e21f0c; padding:16px 0;}
      .footer-inner > div:last-child{border-bottom:none;}
      .nav-row{flex-wrap:wrap;}
      .nav-promo{min-height:42px; width:100%;}
      .subscribe-inner{gap:10px;}
      
      /* Ocultar franja de pedido en tablet y PC */
      .mobile-delivery-strip {
        display: none !important;
      }
    }
    
    @media (min-width: 981px) {
      /* VISTA PC - No mostrar franja móvil */
      .mobile-delivery-strip {
        display: none !important;
      }
    }

    /* --- Overrides requested --- */
    .hero-arrow, .car-btn{ transition:none !important; transform:none !important; }
    .hero-arrow:hover, .car-btn:hover{ transform:none !important; box-shadow:none !important; }
    
    /* Ocultar menú inferior en PC */
    @media (min-width: 981px) {
      .mobile-bottom-nav {
        display: none !important;
      }
    }
    
    @media (max-width: 560px) {
      /* BARRA MENÚ INFERIOR MÓVIL */
      .mobile-bottom-nav {
        display: flex;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #e8d9c5;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        z-index: 100;
        padding: 10px 0 8px;
        backdrop-filter: blur(8px);
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
      }
      
      .mobile-bottom-nav a {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 5px;
        padding: 6px 2px;
        color: #374151;
        text-decoration: none;
      }
      
      .mobile-bottom-nav a.active {
        color: #e21f0c;
      }
      
      .mobile-bottom-nav .icon {
        width: 24px;
        height: 24px;
        display: grid;
        place-items: center;
      }
      
      .mobile-bottom-nav .icon svg {
        width: 22px;
        height: 22px;
      }
      
      .mobile-bottom-nav .label {
        font-size: 11px;
        font-weight: 950;
        text-align: center;
      }
    }
    /* ===== WhatsApp flotante ===== */
    .wa-float{
      position: fixed;
      right: 16px;
      bottom: 16px;
      width: 50px;
      height: 50px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      background: transparent;   /* sin fondo */
      box-shadow: none;          /* sin sombra (si quieres, puedes quitar esta línea) */
      z-index: 120;              /* por encima de la barra inferior (z-index 100) */
      overflow: visible;         /* CLAVE: permite ver ondas fuera del botón */
    }
    
    .wa-float .wa-icon{
      width: 50px;
      height: 50px;
      object-fit: contain;
      display: block;
      position: relative;
      z-index: 2;                /* la imagen encima de las ondas */
    }
    
    /* Móvil: subir el botón para no tapar la barra inferior */
    @media (max-width: 560px){
      .wa-float{
        bottom: calc(16px + 64px + env(safe-area-inset-bottom));
      }
    }
    
    /* ===== Ondas (pulse / ripple) ===== */
    .wa-float::before,
    .wa-float::after{
      content:"";
      position:absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%) scale(.75);
    
      width: 74px;
      height: 74px;
      border-radius: 999px;
    
      border: 3px solid rgba(226,31,12,.55);
      opacity: 0;
    
      pointer-events:none;
      z-index: 1; /* debajo de la imagen */
    
      animation: waRipple 1.7s ease-out infinite;
    }
    
    .wa-float::after{
      width: 92px;
      height: 92px;
      border-color: rgba(226,31,12,.35);
      animation-delay: .55s;
    }
    
    @keyframes waRipple{
      0%   { opacity: 0; transform: translate(-50%, -50%) scale(.70); }
      15%  { opacity: 1; }
      100% { opacity: 0; transform: translate(-50%, -50%) scale(1.25); }
    }
    
    /* Accesibilidad: si el usuario prefiere menos animaciones */
    @media (prefers-reduced-motion: reduce){
      .wa-float::before,
      .wa-float::after{
        animation: none;
        opacity: 0;
      }
    }


  </style>
</head>

<body>

<header>
  <div class="header-wrap">
    <div class="container">
      <div class="header-bar">

        <div class="logo" aria-label="Pacha Eats">
          <img src="img/logos/Logo1.png" alt="Logo Pacha Eats">
        </div>

        <div class="search" role="search" aria-label="Buscar productos">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 21l-4.3-4.3m1.3-5.2a7.5 7.5 0 11-15 0 7.5 7.5 0 0115 0z"
              stroke="#e21f0c" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <label class="sr-only" for="q">Buscar</label>
          <input id="q" type="search" placeholder="Buscar..." />
        </div>

        <a class="info-block delivery" href="#" aria-label="Comienza tu pedido - Ingresa una ubicación">
          <div class="icon" aria-hidden="true">
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none">
              <path d="M4 14h3l2-4h4l2 3h1.5" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16 10h2.2l2.3 2.4" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
              <path d="M7 18a2.2 2.2 0 100-4.4A2.2 2.2 0 007 18Z" stroke="white" stroke-width="1.6"/>
              <path d="M18 18a2.2 2.2 0 100-4.4A2.2 2.2 0 0018 18Z" stroke="white" stroke-width="1.6"/>
              <path d="M3 10h4" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
              <path d="M2.5 12h3.5" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="lines">
            <div class="top">Comienza tu pedido</div>
            <div class="bottom">Ingresa una ubicación</div>
          </div>
          <div class="chev" aria-hidden="true">▼</div>
        </a>

        <a class="info-block" href="#" aria-label="Hola, identifícate - Inicia sesión">
          <div class="icon" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
              <path d="M12 12a4 4 0 100-8 4 4 0 000 8Z" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
              <path d="M4 20a8 8 0 0116 0" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="lines">
            <div class="top">Hola, identifícate</div>
            <div class="bottom">Inicia sesión</div>
          </div>
          <div class="chev" aria-hidden="true">▼</div>
        </a>

        <button class="cart-pill" id="openCart" type="button" aria-label="Abrir carrito">
          <span aria-hidden="true" style="display:grid;place-items:center;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M6 6h15l-2 9H7L6 6Z" stroke="#e21f0c" stroke-width="1.8" stroke-linejoin="round"/>
              <path d="M6 6 5 3H2" stroke="#e21f0c" stroke-width="1.8" stroke-linecap="round"/>
              <circle cx="9" cy="20" r="1.6" fill="#e21f0c"/>
              <circle cx="18" cy="20" r="1.6" fill="#e21f0c"/>
            </svg>
          </span>
          <span class="total-badge" id="cartTotalBadge">S/ 0.00</span>
        </button>

      </div>
    </div>
  </div>

  <div class="nav">
    <div class="container">
      <div class="nav-row">
        <nav class="nav-inner" aria-label="Navegación">
          <a href="#inicio">
            <span class="nav-ico" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M3 11.5 12 4l9 7.5V20a1.5 1.5 0 01-1.5 1.5H15v-6h-6v6H4.5A1.5 1.5 0 013 20v-8.5Z"
                      stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
              </svg>
            </span>Inicio
          </a>

          <a href="#carta">
            <span class="nav-ico" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M8 6h13M8 12h13M8 18h13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                <path d="M4 6h.01M4 12h.01M4 18h.01" stroke="currentColor" stroke-width="2.6" stroke-linecap="round"/>
              </svg>
            </span>Carta
          </a>

          <a href="#productos">
            <span class="nav-ico" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M20.6 13.6 13.6 20.6a2 2 0 01-2.8 0L3 12.8V3h9.8l7.8 7.8a2 2 0 010 2.8Z"
                      stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
                <circle cx="7.5" cy="7.5" r="1.3" fill="currentColor"/>
              </svg>
            </span>Promociones
          </a>

          <a href="#reservas">
            <span class="nav-ico" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M7 3v3M17 3v3M4 8h16M5 6h14a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2Z"
                      stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
                <path d="M8 12h3M8 16h3M13 12h3M13 16h3" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
              </svg>
            </span>Reservas
          </a>

          <a href="#corporativas">
            <span class="nav-ico" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M9 6a2 2 0 012-2h2a2 2 0 012 2v2H9V6Z" stroke="currentColor" stroke-width="1.8"/>
                <path d="M4 8h16a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2v-8a2 2 0 012-2Z"
                      stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
                <path d="M8 12h8" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
              </svg>
            </span>Ventas Corporativas
          </a>
        </nav>

        <div class="nav-promo" role="note" aria-label="Promoción delivery">
          <div class="promo-track" aria-hidden="true">
            <span class="promo-item">
              <span class="promo-ico">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M5 16c1.2-2.9 3.4-4.6 6.6-5.2l2.1-.4" stroke="#f6fbe2" stroke-width="1.4" stroke-linecap="round"/>
                  <path d="M13.7 10.4h2.7c1.1 0 2 .9 2 2v.8" stroke="#f6fbe2" stroke-width="1.4" stroke-linecap="round"/>
                  <path d="M9.2 13.2l2.2 2.2h3.8" stroke="#f6fbe2" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                  <circle cx="7.2" cy="16.8" r="2.0" stroke="#f6fbe2" stroke-width="1.4"/>
                  <circle cx="18.2" cy="16.8" r="2.0" stroke="#f6fbe2" stroke-width="1.4"/>
                  <path d="M16.2 12.2l-1.2-1.6" stroke="#f6fbe2" stroke-width="1.4" stroke-linecap="round"/>
                </svg>
              </span>
              <span class="promo-text">Delivery GRATIS de Lunes a Miércoles desde s/29.90</span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Franja "Comienza tu pedido" para móvil (debajo del header) -->
<div class="mobile-delivery-strip" id="mobileDelivery" aria-label="Comienza tu pedido">
  <div class="icon" aria-hidden="true">
    <svg width="36" height="36" viewBox="0 0 24 24" fill="none">
      <path d="M5 16c1.2-2.9 3.4-4.6 6.6-5.2l2.1-.4" stroke="#e21f0c" stroke-width="1.8" stroke-linecap="round"/>
      <path d="M13.7 10.4h2.7c1.1 0 2 .9 2 2v.8" stroke="#e21f0c" stroke-width="1.8" stroke-linecap="round"/>
      <path d="M9.2 13.2l2.2 2.2h3.8" stroke="#e21f0c" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
      <circle cx="7.2" cy="16.8" r="2.0" stroke="#e21f0c" stroke-width="1.8"/>
      <circle cx="18.2" cy="16.8" r="2.0" stroke="#e21f0c" stroke-width="1.8"/>
      <path d="M16.2 12.2l-1.2-1.6" stroke="#e21f0c" stroke-width="1.8" stroke-linecap="round"/>
    </svg>
  </div>
  <div class="text">
    <div class="top">Comienza tu pedido</div>
    <div class="bottom">Ingresa una ubicación</div>
  </div>
  <div class="chev" aria-hidden="true">▼</div>
</div>

<section class="hero" id="inicio">
  <div class="container">
    <div class="slider" aria-label="Banner principal">

      <button class="hero-arrow left" id="prev" type="button" aria-label="Anterior">‹</button>
      <button class="hero-arrow right" id="next" type="button" aria-label="Siguiente">›</button>

      <div class="slide active"><img src="img/banners/Banner1.png" alt="Banner 1"></div>
      <div class="slide"><img src="img/banners/Banner2.png" alt="Banner 2"></div>
      <div class="slide"><img src="img/banners/Banner3.png" alt="Banner 3"></div>

      <div class="hero-dots" id="dots" aria-label="Indicadores"></div>
    </div>
  </div>
</section>

<main>
  <div class="container">

    <!-- CATEGORÍAS -->
    <section class="cats-wrap" aria-label="Categorías">
      <div class="section-head" style="margin-top:8px;">
        <div>
          <h2>Categorías</h2>
          <p>Elige una categoría</p>
        </div>
      </div>
      <div class="cats-grid" id="catsGrid"></div>
    </section>

    <!-- PRODUCTOS -->
    <section id="productos">
      <div class="section-head">
        <div>
          <h2>Los más pedidos</h2>
        </div>
      </div>

      <div class="carousel-wrap">
        <button class="car-btn left" id="prodLeft" type="button" aria-label="Izquierda">‹</button>
        <div class="carousel" id="productCarousel" aria-label="Carrusel de productos"></div>
        <button class="car-btn right" id="prodRight" type="button" aria-label="Derecha">›</button>
      </div>
    </section>

    <!-- Banner cupones -->
    <section class="coupon-banner" aria-label="Cupones">
      <div class="coupon-inner">
        <div class="coupon-title">
          <span>¿TIENES</span>
          <span style="background: rgba(255,255,255,.18); border:1px solid rgba(255,255,255,.22); padding:4px 10px; border-radius:12px;">
            CUPONES?
          </span>
        </div>
        <button class="coupon-cta" type="button">CANJÉALOS AQUÍ</button>
      </div>
    </section>

    <!-- 2 contenedores -->
    <section class="promo-2col" aria-label="Novedades">
      <article class="promo-card">
        <div class="promo-img">
          <img alt="Promo 1" src="img/banners/Promo1.png" alt="Pacha Eats">
        </div>
        <div class="promo-body">
          <h3>Nuevos Banquetes</h3>
          <p>Disfruta de combos familiares para compartir. Perfecto para reuniones, partidos y fines de semana.</p>
          <button class="promo-btn" type="button">Ver más</button>
        </div>
      </article>

      <article class="promo-card">
        <div class="promo-img">
          <img alt="Promo 2" src="img/banners/Promo2.png" alt="Pacha Eats">
        </div>
        <div class="promo-body">
          <h3>¡Nuevas Alitas!</h3>
          <p>Elige tu salsa favorita: BBQ, picante o clásica. Ideales para acompañar con papas y bebidas.</p>
          <button class="promo-btn" type="button">Ver más</button>
        </div>
      </article>
    </section>

    <!-- ================= STRIP SUSCRIPCIÓN ================= -->
    <section class="subscribe-strip" aria-label="Suscripción">
      <div class="subscribe-wrap">
        <div class="container">
          <div class="subscribe-inner">
            <div>
              <p class="subscribe-title">¡Recibe nuestras ofertas y novedades!</p>
              <p class="subscribe-desc">Suscríbete y recibe en tu inbox todas nuestras ofertas exclusivas y novedades</p>
            </div>

            <form class="sub-form" onsubmit="event.preventDefault(); alert('Gracias por suscribirte (demo).');">
              <input type="text" placeholder="Nombres" required>
              <input type="email" placeholder="Email" required>
              <button class="sub-btn" type="submit">Suscribirme</button>
            </form>
          </div>
        </div>
      </div>
    </section>

    <div id="carta" style="height:18px;"></div>
    <div id="reservas" style="height:18px;"></div>
    <div id="corporativas" style="height:18px;"></div>
  </div>
</main>

<!-- ================= MODAL PERSONALIZAR ================= -->
<div id="customModal" aria-hidden="true">
  <div class="custom-sheet" role="dialog" aria-label="Personaliza tu producto">
    <div class="custom-head">
      <div>
        <h3 class="custom-title" id="customTitle">Personaliza tu producto</h3>
        <p class="custom-sub" id="customSub">Elige tamaño, toppings y bebida adicional.</p>
      </div>
      <button class="xbtn" id="closeCustom" type="button">✕</button>
    </div>

    <div class="custom-body">
      <div class="opt-card">
        <h4>Tamaño</h4>
        <div class="opt-grid" id="sizeOptions"></div>
      </div>

      <div class="opt-card">
        <h4>Toppings</h4>
        <div class="opt-grid" id="toppingOptions"></div>
      </div>

      <div class="opt-card">
        <h4>Bebida adicional</h4>
        <div class="row">
          <div style="flex:1; min-width:240px;">
            <label for="drinkSelect" style="display:block; font-size:12px; margin-bottom:6px; color:#6b7280;">Selecciona bebida</label>
            <select id="drinkSelect" style="width:100%; border:1px solid rgba(0,0,0,.10); border-radius:16px; padding:10px;">
              <option value="0">Sin bebida</option>
              <option value="4.00">Inca Kola (S/ 4.00)</option>
              <option value="4.00">Coca Cola (S/ 4.00)</option>
              <option value="5.50">Chicha Morada (S/ 5.50)</option>
            </select>
          </div>

          <div class="qty-box">
            <button class="qty-btn" id="qtyDec" type="button">−</button>
            <div class="qty-num" id="qtyNum">1</div>
            <button class="qty-btn" id="qtyInc" type="button">+</button>
          </div>
        </div>
      </div>

      <div class="row">
        <div>
          <div style="font-size:12px; color:#6b7280;">Total</div>
          <div style="font-weight:950; font-size:18px;" id="customTotal">S/ 0.00</div>
          <div style="font-size:12px; color:#6b7280;" id="customBreakdown"></div>
        </div>
        <button class="add-btn" id="addFromCustom" type="button">Agregar al carrito</button>
      </div>
    </div>
  </div>
</div>

<!-- ================= CARRITO (MODAL) ================= -->
<div id="cartModal" aria-hidden="true">
  <div class="cart-sheet">
    <div style="display:flex; align-items:center; justify-content:space-between; padding:14px; border-bottom:1px solid rgba(0,0,0,.08); background: linear-gradient(180deg, #fff, #fff6ef);">
      <strong>🛒 Tu carrito</strong>
      <button id="closeCart" type="button"
        style="border:none; background:#f3f4f6; border:1px solid rgba(0,0,0,.10); border-radius:14px; padding:8px 10px; cursor:pointer; font-weight:950;">✕</button>
    </div>

    <div id="cartItems" style="padding:14px; display:flex; flex-direction:column; gap:10px; max-height:55vh; overflow:auto;"></div>

    <div style="padding:14px; border-top:1px solid rgba(0,0,0,.08); display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
      <strong>Total: <span id="cartTotalText">S/ 0.00</span></strong>
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button id="clearCart" type="button"
          style="border-radius:999px; border:1px solid rgba(0,0,0,.10); background:#fff; padding:10px 12px; font-weight:950; cursor:pointer;">Vaciar</button>
        <button id="checkout" type="button"
          style="border-radius:999px; border:none; background:#111; color:#fff; padding:10px 12px; font-weight:950; cursor:pointer;">Finalizar</button>
      </div>
    </div>
  </div>
</div>

<footer>
  <div class="container">
    <div class="footer-inner">

      <!-- Contacto -->
      <div>
        <img class="footer-logo" src="img/logos/Logo2.png" alt="Logo Pacha Eats">
        <div class="f-title">Conéctate con nosotros</div>

        <div class="contact-lines">
          <div><b>Whatsapp:</b> +51925915905</div>
          <div><b>Correo:</b> contacto@pachaeats.com</div>
        </div>

        <div class="social" aria-label="Redes">
          <a href="#" aria-label="Instagram">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5Z" stroke="#fff" stroke-width="1.8"/>
              <path d="M12 17a5 5 0 100-10 5 5 0 000 10Z" stroke="#fff" stroke-width="1.8"/>
              <path d="M17.5 6.5h.01" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
            </svg>
          </a>
          <a href="#" aria-label="Facebook">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M14 8h3V5h-3a4 4 0 00-4 4v3H7v3h3v7h3v-7h3l1-3h-4V9a1 1 0 011-1Z" fill="#fff"/>
            </svg>
          </a>

          <a href="#" aria-label="TikTok">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M14 3v10.2a4.3 4.3 0 11-3.2-4.1V6.7a7.8 7.8 0 003.2 1.2c1.1.2 2.3.1 3.4-.2V4.5c-1.2.4-2.5.4-3.7-.1A4.7 4.7 0 0114 3Z" fill="#fff"/>
            </svg>
          </a>

        </div>
      </div>

      <!-- Sobre Nosotros -->
      <div>
        <div class="f-title">Sobre Nosotros</div>
        <div class="f-links">
          <a href="#">Trabaja con nosotros</a>
          <a href="#">Horarios, locales y zonas de reparto</a>
          <a href="#">Ventas corporativas</a>
          <a href="#">Comprobantes electrónicos</a>
        </div>
      </div>

      <!-- Políticas -->
      <div>
        <div class="f-title">Políticas &amp; Términos</div>
        <div class="f-links">
          <a href="#">Términos y condiciones de la web</a>
          <a href="#">Políticas de privacidad</a>
          <a href="#">Políticas de delivery y pick up</a>
          <a href="#">Términos y condiciones de promociones y campañas</a>
          <a href="#">Línea Ética</a>
          <a href="#">Política de cookies</a>
        </div>
      </div>

      <!-- Libro + Pago -->
      <div>
        <div class="f-title">Libro de reclamaciones</div>
        <div class="book-plain">
          <img src="img/logos/Libro.png" alt="Libro de reclamaciones">
        </div>

        <div class="f-title" style="margin-top:14px;">Métodos de Pago</div>
        <div class="pay-plain">
          <img alt="Visa" src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg">
          <img alt="Mastercard" src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg">
          <img alt="Amex" src="https://upload.wikimedia.org/wikipedia/commons/3/30/American_Express_logo.svg">
        </div>
      </div>

    </div>

    <div class="footer-bottom">
      © <span id="year"></span> Pacha Eats. Todos los derechos reservados.
    </div>
  </div>
</footer>

<!-- Barra de navegación inferior móvil -->
<nav class="mobile-bottom-nav" aria-label="Navegación móvil">
  <a href="#inicio" class="active">
    <div class="icon">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M3 11.5 12 4l9 7.5V20a1.5 1.5 0 01-1.5 1.5H15v-6h-6v6H4.5A1.5 1.5 0 013 20v-8.5Z"
              stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
      </svg>
    </div>
    <div class="label">Inicio</div>
  </a>
  
  <a href="#carta">
    <div class="icon">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M8 6h13M8 12h13M8 18h13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
        <path d="M4 6h.01M4 12h.01M4 18h.01" stroke="currentColor" stroke-width="2.6" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="label">Carta</div>
  </a>
  
  <a href="#productos">
    <div class="icon">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M20.6 13.6 13.6 20.6a2 2 0 01-2.8 0L3 12.8V3h9.8l7.8 7.8a2 2 0 010 2.8Z"
              stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
        <circle cx="7.5" cy="7.5" r="1.3" fill="currentColor"/>
      </svg>
    </div>
    <div class="label">Promociones</div>
  </a>
  
  <a href="#reservas">
    <div class="icon">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M7 3v3M17 3v3M4 8h16M5 6h14a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2Z"
              stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
        <path d="M8 12h3M8 16h3M13 12h3M13 16h3" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="label">Reservas</div>
  </a>
  
  <a href="#login">
    <div class="icon">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M12 12a4 4 0 100-8 4 4 0 000 8Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
        <path d="M4 20a8 8 0 0116 0" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="label">Login</div>
  </a>
</nav>

<script>
  // ================== HELPERS ==================
  const CART_KEY = "pacha_cart_v14";
  const $ = (s) => document.querySelector(s);
  const $$ = (s) => Array.from(document.querySelectorAll(s));
  const money = (n) => "S/ " + Number(n||0).toFixed(2);
  const escapeHtml = (str) => String(str).replace(/[&<>"']/g, m => ({
    "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
  }[m]));

  // ================== DATA: CATEGORÍAS ==================
  const categories = [
    { id:"promos", name:"Alitas & Burgers, img:"img/logos/restarurantes/Jijunas.png" },
    { id:"fam",    name:"Chifa",  img:"img/logos/restarurantes/Pacha Wok.png" },
    { id:"banq",   name:"Banquetes",   img:"img/categorias/Banquetes.png" },
    { id:"duos",   name:"Duos",        img:"img/categorias/Duos.png" },
    { id:"burg",   name:"Hamburguesas",img:"img/categorias/Hamburguesas.png" },
    { id:"wings",  name:"Alitas",      img:"img/categorias/Alitas.png" }
  ];

  // ================== DATA: PRODUCTOS (10) ==================
  const products = [
    { id:"p1", cat:"burg", name:"WHOPPER® Grande", price:16.90, img:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?auto=format&fit=crop&w=1200&q=80" },
    { id:"p2", cat:"burg", name:"WHOPPER® Cheese Grande", price:18.90, img:"https://images.unsplash.com/photo-1550317138-10000687a72b?auto=format&fit=crop&w=1200&q=80" },
    { id:"p3", cat:"burg", name:"WHOPPER® Crispy Grande", price:20.90, img:"https://images.unsplash.com/photo-1550547660-d9450f859349?auto=format&fit=crop&w=1200&q=80" },
    { id:"p4", cat:"burg", name:"WHOPPER® Tejana Grande", price:21.90, img:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?auto=format&fit=crop&w=1200&q=80" },
    { id:"p5", cat:"burg", name:"WHOPPER® Junior", price:15.90, img:"https://images.unsplash.com/photo-1551782450-a2132b4ba21d?auto=format&fit=crop&w=1200&q=80" },
    { id:"p6", cat:"wings", name:"Alitas Picantes 12u", price:32.90, img:"https://images.unsplash.com/photo-1615719413546-198b25453f85?auto=format&fit=crop&w=1200&q=80" },
    { id:"p7", cat:"wings", name:"Alitas BBQ 18u", price:46.90, img:"https://images.unsplash.com/photo-1604908554162-45b5e0a0c00a?auto=format&fit=crop&w=1200&q=80" },
    { id:"p8", cat:"fam", name:"Combo Familiar", price:79.90, img:"https://images.unsplash.com/photo-1606755962773-d324e0a13086?auto=format&fit=crop&w=1200&q=80" },
    { id:"p9", cat:"banq", name:"Banquete 18 piezas", price:129.90, img:"https://images.unsplash.com/photo-1618213837799-25d5552820d1?auto=format&fit=crop&w=1200&q=80" },
    { id:"p10", cat:"duos", name:"Dúo Broaster", price:39.90, img:"https://images.unsplash.com/photo-1626082925156-0b2f8a0b3e9c?auto=format&fit=crop&w=1200&q=80" }
  ];

  // ================== CART ==================
  let cart = loadCart();
  function loadCart(){
    try{ const raw = localStorage.getItem(CART_KEY); return raw ? JSON.parse(raw) : {}; }
    catch(e){ return {}; }
  }
  function saveCart(){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }
  function cartTotal(){ return Object.values(cart).reduce((acc, it) => acc + it.price*it.qty, 0); }
  function addToCartLine({ key, name, price, qty }){
    if(!cart[key]) cart[key] = { id:key, name, price, qty:0 };
    cart[key].qty += qty;
    saveCart();
    renderCartBadge();
  }
  function changeQty(key, delta){
    if(!cart[key]) return;
    cart[key].qty += delta;
    if(cart[key].qty <= 0) delete cart[key];
    saveCart();
    renderCartBadge();
    renderCartModal();
  }
  function clearCart(){ cart = {}; saveCart(); renderCartBadge(); renderCartModal(); }
  function renderCartBadge(){
    $("#cartTotalBadge").textContent = money(cartTotal());
    $("#cartTotalText").textContent = money(cartTotal());
  }

  // ================== Animaciones ==================
  function createExplosion(x, y){
    const explosion = document.createElement("div");
    explosion.className = "explosion";
    const colors = ["#ff80c0","#ffd700","#d087ff","#ffb6e6","#ff5600"];
    for(let i=0;i<14;i++){
      const particle = document.createElement("div");
      particle.className = "particle";
      particle.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
      const dx = (Math.random() - 0.5) * 140;
      const dy = (Math.random() - 0.5) * 140;
      particle.style.setProperty("--dx", dx.toFixed(1) + "px");
      particle.style.setProperty("--dy", dy.toFixed(1) + "px");
      explosion.appendChild(particle);
    }
    explosion.style.left = x + "px";
    explosion.style.top  = y + "px";
    document.body.appendChild(explosion);
    setTimeout(() => explosion.remove(), 900);
  }
  function flyToCart(fromEl){
    const cartEl = $("#cartTotalBadge");
    const b1 = fromEl.getBoundingClientRect();
    const b2 = cartEl.getBoundingClientRect();
    const startX = b1.left + b1.width/2;
    const startY = b1.top + b1.height/2;
    const endX   = b2.left + b2.width/2;
    const endY   = b2.top + b2.height/2;

    const dot = document.createElement("div");
    dot.className = "fly-dot";
    dot.style.left = startX + "px";
    dot.style.top  = startY + "px";
    document.body.appendChild(dot);

    const midX = (startX + endX) / 2;
    const midY = Math.min(startY, endY) - 120;

    dot.animate([
      { transform:"translate(-50%,-50%) scale(1)", left:startX+"px", top:startY+"px", opacity:1 },
      { transform:"translate(-50%,-50%) scale(1.2)", left:midX+"px", top:midY+"px", opacity:1 }
    ], { duration: 320, easing:"cubic-bezier(.2,.9,.2,1)" });

    const anim2 = dot.animate([
      { transform:"translate(-50%,-50%) scale(1.2)", left:midX+"px", top:midY+"px", opacity:1 },
      { transform:"translate(-50%,-50%) scale(.6)", left:endX+"px", top:endY+"px", opacity:.9 }
    ], { duration: 380, delay: 260, easing:"cubic-bezier(.2,.9,.2,1)" });

    anim2.onfinish = () => { dot.remove(); };
  }

  // ================== SLIDER ==================
  const slides = $$(".slide");
  const dotsRoot = $("#dots");
  let idx = 0;
  let timer = null;

  function buildDots(){
    dotsRoot.innerHTML = "";
    slides.forEach((_, i) => {
      const d = document.createElement("div");
      d.className = "dot" + (i===0 ? " active" : "");
      d.addEventListener("click", () => goTo(i, true));
      dotsRoot.appendChild(d);
    });
  }
  function setActive(i){
    slides.forEach((s, k) => s.classList.toggle("active", k===i));
    $$(".dot").forEach((d, k) => d.classList.toggle("active", k===i));
    idx = i;
  }
  function goTo(i, reset=false){
    const next = (i + slides.length) % slides.length;
    setActive(next);
    if(reset) restartTimer();
  }
  function restartTimer(){
    if(timer) clearInterval(timer);
    timer = setInterval(() => goTo(idx+1), 5000);
  }
  $("#prev").addEventListener("click", () => goTo(idx-1, true));
  $("#next").addEventListener("click", () => goTo(idx+1, true));

  // ================== CATEGORÍAS ==================
  let activeCat = null;
  function renderCats(){
    const root = $("#catsGrid");
    root.innerHTML = "";
    categories.forEach(c => {
      const el = document.createElement("div");
      el.className = "cat-bubble" + (c.id === activeCat ? " active" : "");
      el.innerHTML = `
        <div class="label">${escapeHtml(c.name)}</div>
        <div class="img"><img src="${c.img}" alt="${escapeHtml(c.name)}"></div>
      `;
      el.addEventListener("click", () => {
        activeCat = c.id;
        renderCats();
        renderProducts();
      });
      root.appendChild(el);
    });
  }

  // ================== PRODUCTOS ==================
  function productCardHTML(p){
    return `
      <article class="p-card">
        <div class="p-imgbox">
          <img src="${p.img}" alt="${escapeHtml(p.name)}">
        </div>
        <p class="p-name">${escapeHtml(p.name)}</p>
        <div class="p-meta">Precio desde</div>
        <div class="p-price">${money(p.price)}</div>
        <button class="p-add" type="button" data-open-custom="${p.id}">Agregar</button>
      </article>
    `;
  }

  function renderProducts(){
    const root = $("#productCarousel");
    let list;
    
    if (activeCat) {
      list = products.filter(p => p.cat === activeCat);
    } else {
      list = products;
    }
    
    const use = list.length ? list : products;
    root.innerHTML = use.map(productCardHTML).join("");

    root.querySelectorAll("[data-open-custom]").forEach(btn => {
      btn.addEventListener("click", () => {
        const id = btn.getAttribute("data-open-custom");
        const p = products.find(x => x.id === id);
        if(!p) return;
        openCustomize(p, btn);
      });
    });
  }

  // Scroll carrusel
  $("#prodLeft").addEventListener("click", () => {
    $("#productCarousel").scrollBy({left: -Math.max(280, $("#productCarousel").clientWidth * 0.8), behavior:"smooth"});
  });
  $("#prodRight").addEventListener("click", () => {
    $("#productCarousel").scrollBy({left:  Math.max(280, $("#productCarousel").clientWidth * 0.8), behavior:"smooth"});
  });

  // Buscador
  $("#q").addEventListener("input", (e) => {
    const q = e.target.value.trim().toLowerCase();
    const root = $("#productCarousel");
    
    let base;
    if (activeCat) {
      base = products.filter(p => p.cat === activeCat);
    } else {
      base = products;
    }
    
    const filtered = !q ? base : base.filter(p => (p.name).toLowerCase().includes(q));
    const use = (filtered.length ? filtered : base).length ? (filtered.length ? filtered : base) : products;
    root.innerHTML = use.map(productCardHTML).join("");
    root.querySelectorAll("[data-open-custom]").forEach(btn => {
      btn.addEventListener("click", () => {
        const id = btn.getAttribute("data-open-custom");
        const p = products.find(x => x.id === id);
        if(!p) return;
        openCustomize(p, btn);
      });
    });
  });

  // ================== MODAL PERSONALIZAR ==================
  const sizeDefs = [
    { id:"reg", name:"Regular", add:0.00, desc:"+0.00" },
    { id:"gde", name:"Grande",  add:3.50, desc:"+S/ 3.50" }
  ];
  const toppingDefs = [
    { id:"cheese", name:"Queso extra", add:2.50, desc:"+S/ 2.50" },
    { id:"bacon",  name:"Bacon",      add:3.00, desc:"+S/ 3.00" },
    { id:"salsa",  name:"Salsa picante", add:1.50, desc:"+S/ 1.50" },
    { id:"papas",  name:"Papas extra", add:4.00, desc:"+S/ 4.00" }
  ];

  let customProduct = null;
  let customQty = 1;
  let selectedSize = "reg";
  let selectedToppings = new Set();
  let lastTriggerEl = null;

  function openCustomize(p, triggerEl){
    customProduct = p;
    lastTriggerEl = triggerEl || null;
    customQty = 1;
    selectedSize = "reg";
    selectedToppings = new Set();
    $("#drinkSelect").value = "0";
    $("#qtyNum").textContent = "1";

    $("#customTitle").textContent = "Personaliza tu producto";
    $("#customSub").textContent = p.name + " • " + money(p.price);

    renderCustomOptions();
    updateCustomTotal();

    const __cm = $("#customModal"); 
    __cm.classList.add("show");
    $("#customModal").setAttribute("aria-hidden","false");
  }
  
  function closeCustomize(){
    const __cm = $("#customModal"); 
    __cm.classList.remove("show");
    $("#customModal").setAttribute("aria-hidden","true");
    customProduct = null;
    lastTriggerEl = null;
  }
  
  $("#closeCustom").addEventListener("click", closeCustomize);
  $("#customModal").addEventListener("click", (e) => { 
    if(e.target.id === "customModal") closeCustomize(); 
  });

  function renderCustomOptions(){
    const sroot = $("#sizeOptions");
    sroot.innerHTML = "";
    sizeDefs.forEach(s => {
      const div = document.createElement("label");
      div.className = "opt";
      div.innerHTML = `
        <input type="radio" name="size" value="${s.id}" ${s.id===selectedSize?"checked":""}>
        <div>
          <div style="font-weight:950;">${escapeHtml(s.name)}</div>
          <small>${escapeHtml(s.desc)}</small>
        </div>
      `;
      div.addEventListener("click", () => { 
        selectedSize = s.id; 
        renderCustomOptions(); 
        updateCustomTotal(); 
      });
      sroot.appendChild(div);
    });

    const troot = $("#toppingOptions");
    troot.innerHTML = "";
    toppingDefs.forEach(t => {
      const div = document.createElement("label");
      div.className = "opt";
      const checked = selectedToppings.has(t.id);
      div.innerHTML = `
        <input type="checkbox" value="${t.id}" ${checked?"checked":""}>
        <div>
          <div style="font-weight:950;">${escapeHtml(t.name)}</div>
          <small>${escapeHtml(t.desc)}</small>
        </div>
      `;
      div.addEventListener("click", () => {
        if(selectedToppings.has(t.id)) selectedToppings.delete(t.id);
        else selectedToppings.add(t.id);
        renderCustomOptions();
        updateCustomTotal();
      });
      troot.appendChild(div);
    });
  }

  $("#drinkSelect").addEventListener("change", updateCustomTotal);
  $("#qtyDec").addEventListener("click", () => { 
    customQty = Math.max(1, customQty - 1); 
    $("#qtyNum").textContent = String(customQty); 
    updateCustomTotal(); 
  });
  
  $("#qtyInc").addEventListener("click", () => { 
    customQty = Math.min(99, customQty + 1); 
    $("#qtyNum").textContent = String(customQty); 
    updateCustomTotal(); 
  });

  function updateCustomTotal(){
    if(!customProduct) return;
    const sizeAdd = sizeDefs.find(s => s.id === selectedSize)?.add ?? 0;
    let toppingAdd = 0;
    selectedToppings.forEach(id => { 
      toppingAdd += (toppingDefs.find(t => t.id === id)?.add ?? 0); 
    });
    const drinkAdd = Number($("#drinkSelect").value || 0);

    const unit = customProduct.price + sizeAdd + toppingAdd + drinkAdd;
    const total = unit * customQty;

    const sizeName = sizeDefs.find(s => s.id===selectedSize)?.name || "Regular";
    const topList = [...selectedToppings].map(id => toppingDefs.find(t=>t.id===id)?.name).filter(Boolean);

    $("#customTotal").textContent = money(total);
    $("#customBreakdown").textContent =
      `Unidad: ${money(unit)} • Tamaño: ${sizeName}` +
      (topList.length ? ` • Toppings: ${topList.join(", ")}` : "") +
      (drinkAdd ? ` • Bebida: ${money(drinkAdd)}` : "");
  }

  $("#addFromCustom").addEventListener("click", () => {
    if(!customProduct) return;

    const sizeName = sizeDefs.find(s => s.id===selectedSize)?.name || "Regular";
    const sizeAdd = sizeDefs.find(s => s.id === selectedSize)?.add ?? 0;

    const topList = [...selectedToppings].map(id => toppingDefs.find(t=>t.id===id)).filter(Boolean);
    const toppingAdd = topList.reduce((a,t)=>a+t.add,0);

    const drinkAdd = Number($("#drinkSelect").value || 0);
    const drinkText = drinkAdd ? $("#drinkSelect").selectedOptions[0].textContent : "";

    const unitPrice = customProduct.price + sizeAdd + toppingAdd + drinkAdd;
    const lineName =
      `${customProduct.name} (${sizeName})` +
      (topList.length ? ` + ${topList.map(t=>t.name).join(", ")}` : "") +
      (drinkText ? ` • ${drinkText}` : "");

    const key = customProduct.id + "|" + selectedSize + "|" + [...selectedToppings].sort().join(",") + "|" + drinkAdd;

    const el = $("#addFromCustom");
    const rect = el.getBoundingClientRect();
    createExplosion(rect.left + rect.width/2, rect.top + rect.height/2);

    addToCartLine({ key, name: lineName, price: unitPrice, qty: customQty });
    flyToCart(el);

    closeCustomize();
  });

  // ================== CARRITO MODAL ==================
  function openCart(){ 
    renderCartModal(); 
    $("#cartModal").style.display="block"; 
    $("#cartModal").setAttribute("aria-hidden","false"); 
  }
  
  function closeCart(){ 
    $("#cartModal").style.display="none"; 
    $("#cartModal").setAttribute("aria-hidden","true"); 
  }
  
  $("#openCart").addEventListener("click", openCart);
  $("#closeCart").addEventListener("click", closeCart);
  $("#cartModal").addEventListener("click", (e)=>{ 
    if(e.target.id==="cartModal") closeCart(); 
  });
  
  $("#clearCart").addEventListener("click", ()=>{ 
    if(confirm("¿Vaciar carrito?")) clearCart(); 
  });
  
  $("#checkout").addEventListener("click", ()=>{
    const total = cartTotal();
    if(total<=0){ 
      alert("Tu carrito está vacío."); 
      return; 
    }
    const items = Object.values(cart).map(i => `• ${i.qty} x ${i.name} (${money(i.price)})`).join("\n");
    alert(`Pedido (demo)\n\n${items}\n\nTotal: ${money(total)}`);
  });

  function renderCartModal(){
    const root = $("#cartItems");
    root.innerHTML = "";
    const items = Object.values(cart);

    if(items.length === 0){
      root.innerHTML = `<div style="border:1px dashed rgba(0,0,0,.12); border-radius:18px; padding:12px; color:#6b7280; background:#fafafa;">
        Tu carrito está vacío. Agrega productos con el botón "Agregar".
      </div>`;
      $("#cartTotalText").textContent = money(0);
      return;
    }

    items.forEach(it => {
      const row = document.createElement("div");
      row.style.cssText = "border:1px solid rgba(0,0,0,.10); border-radius:18px; padding:12px; display:flex; justify-content:space-between; gap:10px; align-items:flex-start; box-shadow: 0 10px 18px rgba(17,24,39,.06); background:#fff;";
      row.innerHTML = `
        <div style="min-width:0;">
          <div style="font-weight:950; font-size:14px; margin-bottom:6px;">${escapeHtml(it.name)}</div>
          <div style="color:#6b7280; font-size:13px;">${money(it.price)} c/u</div>
          <div style="color:#6b7280; font-size:13px;"><strong>Subtotal:</strong> ${money(it.price * it.qty)}</div>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
          <button type="button" data-act="dec" data-id="${escapeHtml(it.id)}" style="width:36px;height:36px;border-radius:14px;border:1px solid rgba(0,0,0,.10);background:#f3f4f6;font-weight:950;cursor:pointer;">−</button>
          <strong style="min-width:18px; text-align:center;">${it.qty}</strong>
          <button type="button" data-act="inc" data-id="${escapeHtml(it.id)}" style="width:36px;height:36px;border-radius:14px;border:1px solid rgba(0,0,0,.10);background:#f3f4f6;font-weight:950;cursor:pointer;">+</button>
        </div>
      `;
      root.appendChild(row);
    });

    $$("#cartItems [data-act]").forEach(btn => {
      btn.addEventListener("click", () => {
        const id = btn.dataset.id;
        const act = btn.dataset.act;
        changeQty(id, act === "inc" ? 1 : -1);
      });
    });

    $("#cartTotalText").textContent = money(cartTotal());
  }

  // ================== CLICK EN FRANJA MÓVIL ==================
  const mobileDelivery = $("#mobileDelivery");
  if (mobileDelivery) {
    mobileDelivery.addEventListener("click", () => {
      alert("Selecciona tu ubicación para comenzar tu pedido.");
    });
  }

  // ================== NAVEGACIÓN INFERIOR ==================
  $$(".mobile-bottom-nav a").forEach(link => {
    link.addEventListener("click", (e) => {
      e.preventDefault();
      const targetId = link.getAttribute("href");
      
      // Remover clase active de todos
      $$(".mobile-bottom-nav a").forEach(a => a.classList.remove("active"));
      // Agregar al clickeado
      link.classList.add("active");
      
      // Scroll suave a la sección
      if (targetId.startsWith("#")) {
        const target = $(targetId);
        if (target) {
          window.scrollTo({
            top: target.offsetTop,
            behavior: "smooth"
          });
        }
      }
    });
  });

  // ================== INIT ==================
  buildDots(); 
  restartTimer();
  renderCats();
  renderProducts();
  renderCartBadge();
  $("#year").textContent = String(new Date().getFullYear());
</script>
<!-- WhatsApp flotante -->
<a
  class="wa-float"
  href="https://wa.me/51925915905?text=Hola%20Pacha%20Eats%2C%20quisiera%20hacer%20un%20pedido."
  target="_blank"
  rel="noopener"
  aria-label="Chatear por WhatsApp"
>
  <img class="wa-icon" src="img/logos/LogoWhatsappRojo.png" alt="WhatsApp">
</a>

</body>
</html>
